# Компоненты

## Face Detector 

**Face Detector** – базовый компонент Face SDK, реализующий детекцию лиц на поданных на вход изображениях или видео (совместно с компонентом *VEE*, см. ниже). Результатом обработки данных является специальный внутренний объект представления лица – нормализованное (нормально повернутое в плоскости кадра, кадрированное, вырезанное) изображение лица, стандартизованное для дальнейшей биометрической обработки. За счет встроенного механизма трекинга (слежения) одно и то же лицо, даже при исчезновении из кадра и появлении вновь, воспринимается как один объект. Для работы с поточными видеоданными вместо компонента *Face Detector* целесообразно применение компонента *VideoEngine*.  
**Лицензирование:** по числу обрабатываемых каналов данных (фото или видео).    
Более подробная информация представлена в пунктах [Детекция лиц](development/video_stream_processing.md#tracking-faces) и [Класс Capturer](development/face_capturing.md#класс-capturer).  

## Encoder

**Encoder** – базовый компонент Face SDK, реализующий построение биометрического шаблона Face. В качестве входных данных *Encoder* использует нормализованное изображение лица, получаемое от *Face Detector*. Результатом работы *Encoder* является биометрический шаблон *Face* (числовой массив признаков идентификации), который впоследствии хранится в биометрической БД и/или используется в биометрических операциях. Внутренняя детализация и, соответственно, размер шаблона *Face* зависят от выбранного метода биометрической обработки.  
**Лицензирование:** по числу обрабатываемых каналов данных (фото или видео).  
Более подробная информация представлена в пункте [Идентификация лиц](development/face_identification.md).  

## Video Engine Standard (VES)

**Video Engine Standard (VES)** – макро-компонент (компонент-сборка) Face SDK, реализующий базовую обработку видеопотока в 1 канале (например, видеоданных в реальном времени от 1 камеры).  
Цикл обработки данных *VES* включает в себя:
* детекцию и трекинг лиц в кадре;
* выбор наилучшего кадра и кодирование выделенного лица (вычисление биометрического шаблона Face);
* определение пола, возраста и эмоций лица.  

В качестве входных данных *VES* принимает последовательность видеокадров, поэтому предварительно требуется декодирование видеопотока. *VES* в стандартной конфигурации имеет следующий компонентный состав: *Face Detector*, *Encoder*, один внутренний балансировщик нагрузки (для управления очередью входных видеокадров). 

Для сложных задач поточной обработки видеоданных в реальном времени в составе высоконагруженных систем внутренний состав *VES* можно расширять, включая дополнительные компоненты для повышения производительности. В отличие от компонента *VideoEngine Exteded*, *VES* не предоставляет возможность сравнения биометрических шаблонов.  
**Лицензирование:** по числу обрабатываемых каналов данных (фото или видео).  
Более подробная информация представлена в пункте [Обработка видеопотока](development/video_stream_processing.md).  

## Video Engine Extended (VEE)

**Video Engine Extended (VEE)** – макро-компонент (компонент-сборка) Face SDK, реализующий базовую обработку видеопотока в 1 канале (например, видеоданных в реальном времени от 1 камеры) с организацией очереди данных для последующего поиска (по контрольному списку или БД).

Цикл обработки данных *VEE* включает в себя:
* детекцию и трекинг лиц в кадре;
* выбор наилучшего кадра и кодирование выделенного лица (вычисление биометрического шаблона Face);
* последующее сравнение полученного шаблона с базой данных;
* определение пола, возраста и эмоций лица.  

В качестве входных данных *VEE* принимает последовательность видеокадров, поэтому предварительно требуется декодирование видеопотока. *VEE* в стандартной конфигурации имеет следующий компонентный состав: *Face Detector*, *Encoder* и *MatcherDB(N)*, где *N* – размер поискового индекса, в типовом случае равный количеству лиц (биометрических шаблонов) в БД. В *VEE* также включены два внутренних балансировщика нагрузки: балансировщик №1 предназначен для управления очередью входных видеокадров, балансировщик №2 предназначен для управления очередью запросов на поиск по биометрической БД на основе вычисленного шаблона лица. 

Для сложных задач поточной обработки видеоданных в реальном времени в составе высоконагруженных систем внутренний состав *VEE* можно расширять, включая дополнительные компоненты для повышения производительности.  
**Лицензирование:** по числу обрабатываемых каналов данных (фото или видео) и размеру поискового индекса *MatcherDB*.  
Более подробная информация представлена в пункте [Обработка видеопотока](development/video_stream_processing.md).  

## MatcherDB

**MatcherDB** – базовый компонент Face SDK, реализующий основные операции сравнения биометрических шаблонов: 1:1 (верификация), 1:N (идентификация) или их комбинации. *MatcherDB* использует в качестве входных данных биометрический шаблон *Face*, вычисленный с помощью Encoder. Для верификации (1:1) достаточно использовать *MatcherDB(1)*. Идентификация (1:N) производится в массиве биометрических шаблонов. Размер *MatcherDB* определяет размер поискового индекса, т.е. разрешенных границ поиска, но не является ограничителем размера собственно биометрической БД.  
**Лицензирование:** по числу биометрических шаблонов лиц в составе поискового индекса биометрической БД.  
Более подробная информация представлена в пункте [Идентификация лиц](development/face_identification.md).  

## 3D Liveness Detector

**3D Liveness Detector** – опциональный компонент Face SDK, реализующий определение т.н. “витальности” субъекта. “Витальность” определяется за счет анализа поверхности лица и позволяет предотвратить злонамеренные действия с использованием фото или видео вместо реального лица. *3D Liveness Detector* использует в качестве входных данных нормализованное изображение, полученное от *FaceDetector*, и карту глубины, получаемую с помощью 3D (RGBD) сенсора.  
**Лицензирование:** по числу обрабатываемых каналов данных (фото или видео).  
Более подробная информация представлена в пункте [Принадлежность лица реальному человеку](development/face_estimation.md#принадлежность-лица-реальному-человеку).  

## Gender-Age Detector и Emotions Detector

**Gender-Age Detector** и **Emotions Detector** – опциональные компоненты Face SDK, позволяющие определить пол и возраст лица и получить приблизительную оценку преобладающего эмоционального состояния лица в данный момент времени. *Gender-Age Detector* и *Emotions Detector* используют в качестве входных данных нормализованные изображения лица, полученные от компонента *FaceDetector*. Определение возраста происходит в диапазоне +/- 5 лет. Эмоциональные состояния: Happy, Surprise, Neutral, Angry.  
**Лицензирование:** по числу обрабатываемых каналов данных (фото или видео).  
Более подробная информация представлена в пунктах [Пол и возраст](development/face_estimation.md#пол-и-возраст) и [Эмоции](development/face_estimation.md#эмоции).  
